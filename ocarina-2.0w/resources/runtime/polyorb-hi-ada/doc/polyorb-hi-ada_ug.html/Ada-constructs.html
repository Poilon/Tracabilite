<html lang="en">
<head>
<title>Ada constructs - PolyORB-HI User's Guide</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="PolyORB-HI User's Guide">
<meta name="generator" content="makeinfo 4.8">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Supported-features.html#Supported-features" title="Supported features">
<link rel="next" href="AADL-features.html#AADL-features" title="AADL features">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
Copyright (C) 2006-2009 E'cole nationale supe'rieure
des te'le'communications

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.1 or
any later version published by the Free Software Foundation; with the
Invariant Sections being ``GNU Free Documentation License'', with the
Front-Cover Texts being ``PolyORB High Integrity User's Guide'', and
with no Back-Cover Texts.  A copy of the license is included in the
section entitled ``GNU Free Documentation License''.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
body {}
body {
	background-color: white;
	position: absolute;
	font-size: medium;
	font-family: Verdana;
//	padding-left: 7em;
	top: 3em;
}

div.navigation {
	font-size: small; 
	padding-left: 0; 
	padding-right: 0; 
	text-align: right
}

div#menu {
	text-align: left;
	position: fixed;
	left: 1pt;
	bottom: auto;
	top: 2em;
	right: auto;
	padding-right: 1ex;
	padding-left: 1em;
	padding-top: 1ex;
	padding-bottom: 1ex;
	border-width: 3pt;
	background-color: transparent;  
	border-color: red; 
	border-left-style: solid
}

div#menu span.item {
	display: block;
	background-color: transparent;  
}

table.navigation {
	font-size: small
} 


/* Paragraphs */
p, blockquote {
	color: black; 
	text-indent: 1em; 
	text-align: justify
}


p {
	margin-bottom: .5em; 
	margin-top: 1px
}

p kbd 
{
  background-color: ivory
}

div.important {
	background-color: lightgray; 
	border-color: red; 
	border-style: solid;  
	border-width: 1pt
}
p.important {
	color: red
}
p.brut {
	text-indent: 0
}
p.brut:first-letter {
	font-size: 100%; 
	font-weight: normal
}

/* Sections */
div {
	border-style: none; 
	padding-left: 1em; 
	padding-right: 1em; 
	margin-top: 2px; 
	margin-bottom: 2px
}


/* Menus */

div.action {
	background-color: ivory; 
	border-color: lightgray; 
	border-style: solid; 
	border-width: 1pt 1pt 1pt 1pt; 
	font-size: small; 
	text-align: left
}

div.special 
{
  border-color: lightgray; 
  border-style: solid; 
  border-width: 0 0 0 4pt
}


/* Docbook special settings */

h3.subtitle {
	text-align: center
}

h1.title {
	margin-bottom: 10pt;
}

div.authorgroup {
	margin-top: 2em;
	margin-bottom: 2em;
	text-align: center;
	display: block;
}

div.author {
	display: inline;
}

h3.author {
	display: inline;
	font-style: normal;
	color: black;
	font-size: medium;
}

p.copyright {
	margin-top: 1em;
	text-align: center;
}

/* End docbook settings */


/* hors-texte */

pre {
	background-color: whitesmoke;
	border-color: lightcoral;
	border-style: solid;
	border-width: 0pt 1pt 1pt 0pt;
}

.hors-texte {
	background-color: lightgray;  
	border-color: lightcoral; 
	border-style: solid;
	border-width: 1pt; 
	padding-left: 1em; 	
	padding-right: 1em; 
	text-align: justify
}

/* Tables */

table.hors-texte {
	margin: auto; 
	font-size: 100%;
	border-width: 1pt 1pt 1pt 1pt
}

table.hors-texte td {
	padding-left: 1ex; 
	padding-right: 1ex
}

table.hors-texte tr.sep {
	padding-top: 1ex
}


h1, h2, h3, h4, h5, h6 
{
  color: black; 
  text-decoration: none; 
  font-weight: bold;
  padding: 0pt
}

h1 {
	font-size: larger larger larger;
	text-align: center; 
	margin-bottom: 24pt
}
h2 {
	font-size: larger larger;
	margin-left:      0; 
	margin-top:       24pt; 
	margin-bottom:    14pt;
	border-color:     red;
	border-bottom-style:     solid;
	border-width:     1pt;
	padding:          2pt; 
	margin-left:      0; 
	margin-right:     0; 
}
h3 {
	font-size: larger;
	margin-left: 1em; 
	margin-bottom: 1ex;
	color: red;	
}
h4, h5, h6 {
	font-size: normal;
	margin-left: 2em; 
	margin-bottom: 1em
}

h4 {
	text-decoration: underlined
}
h5 {
	font-style: italic
}


h2.special 
{
  border-style:     solid;
  border-width:	    1pt;
  border-color:     lightgray;
  padding:          2pt; 
}

img.flottant {
	float: right;
	clear: both;
	margin: 2em;
}

/* Lists */

li, dd 
{
  text-align: justify
}

dt {
	font-style: normal; 
	margin-top: 1em
}
dd {
	font-style: normal; 
	margin-left: 4em
}

dd.sdd {
	margin-left: 5em
}

dd ul {margin-top: 0}
li dl {margin-top: 0}
ul {list-style-type: square}
ul ul {list-style-type: disc}
ul ul ul {list-style-type: circle}

/* Addresses */

address {
	margin-top: 1ex; margin-bottom: 1ex
}
address.poste {
	font-style: italic
}
address.email {
	font-style: normal
}
address.phone {
	font-style: oblic
}

/* Links */

a:link, a:visited {
	color: darkred;
	text-decoration: none;
	border-bottom-width: 1px;
	border-bottom-style: dotted;
	border-bottom-color:  red;
	padding-bottom: 0px
}

a:hover, a:active {
	color: red; 
	text-decoration: none;
	border-bottom-color: black;
	border-bottom-style: solid
}

--></style>
</head>
<body>
<div class="node">
<p>
<a name="Ada-constructs"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="AADL-features.html#AADL-features">AADL features</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Supported-features.html#Supported-features">Supported features</a>
<hr>
</div>

<h3 class="section">A.1 Ada constructs</h3>

<!--  -->
<p class="noindent">PolyORB-HI-Ada strictly follows Ada restrictions for High-Integrity
systems. They are enforced through different compilation files:

     <ul>
<li>The files <samp><span class="file">gnat.adc</span></samp> lists common restrictions applied to
all compiled files

     <pre class="smallexample">          
          -- <i> Ada restrictions to be supported by the PolyORB HI, common restrictions</i>
          
          -- <i> For each restriction, we list its definition place in the Ada 2005</i>
          -- <i> reference manual.</i>
          
          <b>pragma</b> Restrictions (No_Allocators);                  -- <i>H.4 (7)</i>
          <b>pragma</b> Restrictions (No_Floating_Point);              -- <i>H.4 (14)</i>
          -- <i> pragma Restrictions (No_Access_Subprograms);          -- H.4 (17)</i>
          <b>pragma</b> Restrictions (No_Unchecked_Access);            -- <i>H.4 (18)</i>
          <b>pragma</b> Restrictions (No_Dispatch);                    -- <i>H.4 (19)</i>
          <b>pragma</b> Restrictions (No_IO);                          -- <i>H.4 (20)</i>
          <b>pragma</b> Restrictions (No_Recursion);                   -- <i>H.4 (22)</i>
          
          -- <i> pragma Partition_Elaboration_Policy (Sequential); -- H.6 (3)</i>
          -- <i> This policy eases task initial synchronization and the bootstrap</i>
          -- <i> of the VM, see Ada 2005 Rationale for more details). (Not yet</i>
          -- <i> supported by GNAT)</i>
          
          -- <i> pragma Restriction_Warnings (No_Implementation_Attributes);   -- 13.12 (2)</i>
          -- <i> Style-check to enforce compliance with pure Ada, but also to avoid</i>
          -- <i> the 'Unrestricted_Access attribute, which is GNAT specific.</i>
          
          -- <i> pragma Restrictions (No_Obsolescent_Features);        -- 13.12 (4)</i>
          -- <i>Deactivated as of 20090702: GPL 2009 deprecated</i>
          -- <i>GNAT.Sockets.Initialize, but it might still be required for older</i>
          -- <i>compilers supported.</i>
          
          <b>pragma</b> Restrictions (No_Unchecked_Deallocation);      -- <i>J.13 (4)</i>
          -- <i> Sibling of the No_Allocators restriction.</i>
          -- <i> XXX to be replaced with a No_Dependence restriction</i>
          
          -- <i> GNAT Specific restrictions</i>
          
          -- <i> pragma Restrictions (No_Streams);                     -- GNAT specific</i>
          
          -- <i> pragma Restrictions (No_Direct_Boolean_Operators);    -- GNAT specific</i>
          -- <i> For the use of "and then" and "or else" in boolean operations</i>
          
          -- <i> pragma Restrictions (No_Enumeration_Maps);            -- GNAT specific</i>
          -- <i>Forbids &lt;type&gt;'Image for enumeration types. Cannot be supported</i>
          -- <i>because some examples use it</i>
          
          -- <i> pragma Restrictions (No_Implicit_Conditionals);     -- GNAT specific</i>
          -- <i> pragma Restrictions (No_Implicit_Loops);            -- GNAT specific</i>
          -- <i> pragma Restrictions (No_Enumeration_Maps);          -- GNAT specific</i>
          
     </pre>
     <li><samp><span class="file">native.adc</span></samp>  lists restrictions applied to compiled files
for native targets

     <pre class="smallexample">          
          -- <i> Ada restrictions to be supported by PolyORB HI, for native targets</i>
          
          -- <i> pragma Profile_Warnings (Ravenscar);              -- D.13.1</i>
          
          
     </pre>
     <li><samp><span class="file">hi-e.adc</span></samp>  lists restrictions applied to compiled files
for High-Integrity targets such as bare board LEON and ERC32
compilers.

     <pre class="smallexample">          
          -- <i> Ada restrictions to be supported by the PolyORB HI, for HI targets</i>
          
          <b>pragma</b> Profile (Ravenscar);                              -- <i>D.13.1</i>
          
          <b>pragma</b> Restrictions (No_Dependence =&gt; Ada.Finalization); -- <i>13.12.1 (12)</i>
          -- <i> No controlled types, cannot be enforced for native compilers</i>
          -- <i> because of the s-tpoben file.</i>
          
          -- <i> pragma Restrictions (No_Dependence =&gt; Ada.Streams);      -- 13.12.1 (12)</i>
          -- <i> No implicit dependency on Ada.Tags and other object oriented</i>
          -- <i> compiler units. Cannot be enforced for native platforms because of</i>
          -- <i> the g-socket file</i>
          
          -- <i> pragma Restrictions (No_Exception_Handlers);             -- GNAT specific</i>
          -- <i> Implied by GNAT Pro 5.03a1 for High-Integrity, for the Ravenscar</i>
          -- <i> run-time,  cannot be enforced for native compilers because of the</i>
          -- <i> s-tpoben file.</i>
          
          -- <i> pragma Restrictions (No_Secondary_Stack);                -- GNAT specific</i>
          -- <i> No unconstrained objects, including arrays, but also forbids</i>
          -- <i> string concatenation. (GNAT specific)</i>
          
     </pre>
     <li>The file <samp><span class="file">polyorb-hi.gpr</span></samp> lists the compilation options
applied to all units, the different supported targets
(<code>``native''</code>, <code>``leon''</code> and <code>``erc 32''</code>). 
</ul>

   <p>The <code>check</code> rule of the makefile allows one to check for the
remaining restrictions, using the <samp><span class="file">gnatcheck</span></samp> tool.

<!--  -->
</body></html>

