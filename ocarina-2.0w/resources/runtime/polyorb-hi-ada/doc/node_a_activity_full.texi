@smallexample

--------------------------------------------------------
-- @i{ This file was automatically generated by Ocarina  --}
-- @i{ Do NOT hand-modify this file, as your             --}
-- @i{ changes will be lost when you re-run Ocarina      --}
--------------------------------------------------------
@b{pragma} Style_Checks
 ("@i{NM32766}");
@b{with} PolyORB_HI_Generated.Types;
@b{with} PolyORB_HI.Errors;
@b{with} PolyORB_HI_Generated.Deployment;
@b{with} Ada.Real_Time;
@b{with} System;
@b{with} PolyORB_HI.Periodic_Task;

@b{package} PolyORB_HI_Generated.Activity @b{is}

  -- @i{ BEGIN: Entities used by all instances of component P.Impl}

  @b{type} Software_P_Impl_Port_Type @b{is}
   (Data_Source);

  @b{type} Software_P_Impl_Interface 
   (Port : Software_P_Impl_Port_Type := Software_P_Impl_Port_Type'First)
  @b{is}
    @b{record}
      @b{case} Port @b{is}
        @b{when} Data_Source =>
          Data_Source_DATA : PolyORB_HI_Generated.Types.Simple_Type;
        @b{pragma} Warnings (Off);
        @b{when} @b{others} =>
          @b{null};
        @b{pragma} Warnings (On);
      @b{end} @b{case};
    @b{end} @b{record};

  @b{function} Send_Output
   (Entity : PolyORB_HI_Generated.Deployment.Entity_Type;
    Port : Software_P_Impl_Port_Type)
   @b{return} PolyORB_HI.Errors.Error_Kind;

  @b{procedure} Put_Value
   (Entity : PolyORB_HI_Generated.Deployment.Entity_Type;
    Thread_Interface : Software_P_Impl_Interface);

  @b{procedure} Receive_Input
   (Entity : PolyORB_HI_Generated.Deployment.Entity_Type;
    Port : Software_P_Impl_Port_Type);

  @b{function} Get_Value
   (Entity : PolyORB_HI_Generated.Deployment.Entity_Type;
    Port : Software_P_Impl_Port_Type)
   @b{return} Software_P_Impl_Interface;

  @b{function} Get_Sender
   (Entity : PolyORB_HI_Generated.Deployment.Entity_Type;
    Port : Software_P_Impl_Port_Type)
   @b{return} PolyORB_HI_Generated.Deployment.Entity_Type;

  @b{function} Get_Count
   (Entity : PolyORB_HI_Generated.Deployment.Entity_Type;
    Port : Software_P_Impl_Port_Type)
   @b{return} Standard.Integer;

  @b{function} Get_Time_Stamp
   (Entity : PolyORB_HI_Generated.Deployment.Entity_Type;
    Port : Software_P_Impl_Port_Type)
   @b{return} Ada.Real_Time.Time;

  @b{procedure} Next_Value
   (Entity : PolyORB_HI_Generated.Deployment.Entity_Type;
    Port : Software_P_Impl_Port_Type);

  @b{procedure} Store_Received_Message
   (Entity : PolyORB_HI_Generated.Deployment.Entity_Type;
    Thread_Interface : Software_P_Impl_Interface;
    From : PolyORB_HI_Generated.Deployment.Entity_Type;
    Time_Stamp : Ada.Real_Time.Time :=
      Ada.Real_Time.Clock);

  @b{procedure} Wait_For_Incoming_Events
   (Entity : PolyORB_HI_Generated.Deployment.Entity_Type;
    Port : @b{out} Software_P_Impl_Port_Type);

  -- @i{ END: Entities used by all instances of component P.Impl}

  -- @i{ Periodic task : Pinger}

  @b{function} PING_Package_Pinger_Job @b{return} PolyORB_HI.Errors.Error_Kind;

  @b{procedure} PING_Package_Pinger_Init;

  @b{procedure} PING_Package_Pinger_Recover;

  @b{package} PING_Package_Pinger_Task @b{is}
   @b{new} PolyORB_HI.Periodic_Task
     (Entity => PolyORB_HI_Generated.Deployment.Node_A_Pinger_K,
      Task_Period => Ada.Real_Time.Milliseconds
       (1000),
      Task_Deadline => Ada.Real_Time.Milliseconds
       (1000),
      Task_Priority => (System.Priority'First
        + (((2
          - 0)
          * (System.Priority'Last
            - System.Priority'First))
          / 255)),
      Task_Stack_Size => 100000,
      Job => PING_Package_Pinger_Job,
      Initialize_Entrypoint => PING_Package_Pinger_Init,
      Recover_Entrypoint => PING_Package_Pinger_Recover);

@b{end} PolyORB_HI_Generated.Activity;

@end smallexample
